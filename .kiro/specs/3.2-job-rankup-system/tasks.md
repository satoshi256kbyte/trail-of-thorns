# 実装計画

- [x] 1. 職業システムの基本データ構造と型定義を作成
  - 職業関連の基本型定義（Job, JobData, StatModifiers等）を実装
  - 薔薇の力関連の型定義（RoseEssenceData, RoseEssenceTransaction等）を実装
  - ランクアップ関連の型定義（RankUpRequirements, RankUpResult等）を実装
  - _要件: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 2. Job基底クラスと基本職業クラスを実装
  - Job抽象基底クラスの実装（能力値修正、スキル管理、ランクアップ要件）
  - WarriorJob（戦士）クラスの実装
  - MageJob（魔法使い）クラスの実装
  - ArcherJob（弓使い）クラスの実装
  - HealerJob（僧侶）クラスの実装
  - ThiefJob（盗賊）クラスの実装
  - _要件: 1.1, 1.3, 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 3. JobManagerクラスで職業管理システムを実装
  - 職業の登録・取得機能
  - キャラクター職業データの管理
  - 職業変更処理の実装
  - 職業能力値計算機能
  - 職業スキル管理機能
  - _要件: 1.1, 1.4, 6.1, 6.2, 6.3, 6.4, 6.5_

- [x] 4. RoseEssenceManagerクラスで薔薇の力管理システムを実装
  - 薔薇の力の獲得・消費処理
  - 薔薇の力残量管理
  - 薔薇の力取引履歴の記録
  - 薔薇の力不足チェック機能
  - 薔薇の力獲得予測機能
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [x] 5. RankUpManagerクラスでランクアップ処理システムを実装
  - ランクアップ可能性判定
  - ランクアップ実行処理
  - ランクアップ効果適用
  - ランクアップ可能キャラクター取得
  - ランクアップ条件チェック
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [x] 6. JobAnimatorクラスで職業・ランクアップアニメーション・エフェクトシステムを実装
  - 職業変更アニメーション
  - ランクアップアニメーション・エフェクト
  - 薔薇の力獲得エフェクト
  - 職業オーラエフェクト
  - スキル習得エフェクト
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 7. JobUIクラスで職業システムのUI表示を実装
  - 職業選択・変更UI
  - ランクアップUI
  - 職業情報パネル
  - 薔薇の力残量表示
  - ランクアップ効果プレビュー
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 8. JobSystemメインコントローラークラスを実装
  - 職業システム全体の初期化
  - 各サブシステムの統合・調整
  - 公開APIの提供
  - システム間の連携処理
  - エラーハンドリングの統合
  - _要件: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 9. 職業データローダーとJSONスキーマ検証システムを実装
  - 職業データJSONファイルの読み込み
  - 職業データの検証・バリデーション
  - 薔薇の力設定データの読み込み
  - データキャッシュシステム
  - データ整合性チェック
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 10. 経験値システムとの統合機能を実装
  - レベルアップ時の職業成長率修正適用
  - 職業による経験値獲得修正
  - 職業変更時の経験値処理
  - 成長計算への職業効果統合
  - _要件: 1.1, 1.4, 6.2, 6.4_

- [x] 11. スキルシステムとの統合機能を実装
  - 職業別使用可能スキルの管理
  - 職業変更時のスキル更新
  - ランクアップ時の新スキル習得
  - 職業スキルの制限・解除処理
  - _要件: 1.1, 1.3, 5.3, 6.2, 6.4_

- [x] 12. 戦闘システムとの統合機能を実装
  - ボス撃破時の薔薇の力獲得処理
  - 職業による戦闘能力修正
  - 職業特性の戦闘への適用
  - 薔薇の力獲得演出の統合
  - _要件: 4.1, 4.2, 7.1, 7.2, 7.3, 7.4, 7.5_

- [x] 13. GameplaySceneとの統合と入力処理システムを実装
  - 職業システムのGameplaySceneへの統合
  - 職業・ランクアップ関連の入力処理
  - UI表示の統合
  - ゲームフローへの職業システム組み込み
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 14. データ永続化とセーブ・ロード連携機能を実装
  - キャラクター職業データの保存・読み込み
  - 薔薇の力データの永続化
  - 職業変更履歴の保存
  - ランクアップ履歴の記録
  - データ整合性の保証
  - _要件: 6.5, 4.3, 8.3_

- [x] 15. エラーハンドリングとユーザーフィードバックシステムを実装
  - 職業システム固有のエラー処理
  - ユーザーへの適切なエラーメッセージ表示
  - エラー回復処理
  - ログ記録とデバッグ支援
  - _要件: 1.5, 2.5, 4.5, 8.5_

- [x] 16. パフォーマンス最適化とメモリ管理を実装
  - 職業データのキャッシュ最適化
  - 能力値計算の最適化
  - UI更新の最適化
  - メモリリーク防止
  - オブジェクトプールの活用
  - _要件: 8.1, 8.2, 8.3, 8.4, 8.5_

- [x] 17. 職業システム設定とデバッグツールを実装
  - 開発用職業システム設定
  - デバッグ用職業・ランクアップコマンド
  - 薔薇の力操作ツール
  - 職業データ検証ツール
  - パフォーマンス監視ツール
  - _要件: 8.1, 8.2, 8.3, 8.4, 8.5_

- [x] 18. 包括的テストスイートと品質保証を実装
  - 職業システムのユニットテスト
  - 統合テストの実装
  - E2Eテストシナリオの作成
  - パフォーマンステストの実装
  - テストカバレッジの確保
  - _要件: 全要件の検証_
