# プロジェクト概要

## プロジェクト名

2D シミュレーションRPG「Trail of Thorns」

## 目的・目標

Phaser3とTypeScriptを使用した2DシミュレーションRPGの開発プロジェクトです。
無料で公開することを目標とし、ブラウザで動作するWebゲームとして開発します。

ゲームのイメージは将棋のような戦略性を持つSRPGです。
個性的なキャラクターたちを仲間にし、どのように成長させて戦略的に配置するかをじっくりと考えながら進める面白さを追求します。

### ゲームの特徴

- 各キャラクターの攻撃手段に個性があり、単純な力押しでは攻略できない戦略性
- キャラクターには職業とレベルがあり、ステージ中にレベルアップと職業のランクアップが発生
- 敵キャラクターを一定条件を満たして倒すことで味方に引き込むことが可能
- 魔性の薔薇をテーマとしたダークファンタジー世界観

## 世界観・ストーリー

### バックストーリー

この世界には「魔性の薔薇」という特殊な植物が生息しています。
魔性の薔薇は生態系を狂わせて怪物を生み出し、時には人々の正気を奪います。
あなたは薔薇とその脅威を取り除くよう依頼された冒険者です。
仲間とともに薔薇がもたらす脅威の根源を辿り、薔薇の討伐を目指します。

### テーマ

- **腐敗と浄化**: 薔薇に侵された世界を浄化する
- **仲間との絆**: 敵だった者も仲間として受け入れる
- **戦略と成長**: 限られたリソースでの戦略的判断

## ゲームルール

### 基本システム

- **章構成**: ゲーム開始時に章を選択、各章は4〜24のステージで構成
- **パーティ編成**: 1ステージに参加できる味方キャラクターは最大6人
- **敵の数**: 1ステージの敵キャラクター数に上限なし

### 成長システム

- **経験値獲得**: 敵への攻撃命中、敵の撃破、味方への支援・回復で経験値を獲得
- **レベルアップ**: 経験値が一定値に達するとレベルアップ
- **職業ランクアップ**: ボス撃破時に得られる薔薇の力で職業をランクアップ

### 戦闘システム

- **キャラクターロスト**: 敵の攻撃で味方が撃破されると、その章内では使用不可
- **勝利条件**: ステージボス（魔性の薔薇の力を受けた存在）の撃破が基本

### 仲間化システム

- **対象**: 特定の敵キャラクターは味方に引き込み可能
- **条件**: 一定の条件を満たしながら撃破することでNPC化
- **保護**: NPC化したキャラクターは行動不可だが、敵の最優先攻撃対象となる
- **仲間化**: ステージクリア時にNPCが生存していれば次ステージから味方として参加可能

## 技術スタック

### フロントエンド

- **ゲームエンジン**: Phaser 3.88.2
- **言語**: TypeScript
- **ビルドツール**: Vite
- **データ形式**: JSON

### バックエンド・インフラ

- **データベース**: AWS DynamoDB
- **認証**: AWS Cognito
- **API**: AWS Lambda + API Gateway
- **ホスティング**: Amazon S3 + CloudFront
- **インフラ**: AWS CDK
- **CI/CD**: GitHub Actions

### 開発ツール

- **パッケージマネージャー**: npm
- **バージョン管理**: asdf (.tool-versions)
- **テストフレームワーク**: Jest
- **コード品質**: ESLint + Prettier
- **ドキュメント**: Markdown + markdownlint

## ゲーム仕様

### 基本コンセプト

- 2DトップダウンビューのシミュレーションRPG
- ターン制戦闘システム
- キャラクター育成要素
- シンプルなストーリー進行

### ターゲットデバイス

- **メインターゲット**: PC（デスクトップ・ノートPC）
  - 解像度: 1920x1080を基準
  - 操作: マウス + キーボード
- **サブターゲット**: タブレット・スマートフォン
  - レスポンシブ対応
  - タッチ操作対応

### データ管理戦略

- **静的データ**: JSON（ゲーム設定）→ S3 + CloudFront配信
- **動的データ**: プレイヤー進行状況 → DynamoDB保存
- **エディター**: React + TypeScript（ローカル実行）
- **ワークフロー**: ローカル編集 → JSON出力 → プルリクエスト → 統合

## 成功指標

### 技術指標

- ゲーム起動時間: 5秒以内
- 安定したフレームレート: 60fps維持
- モバイル対応: レスポンシブデザイン
- ブラウザ互換性: Chrome, Firefox, Safari, Edge

### ユーザー指標

- 初回プレイ完了率: 70%以上
- 平均プレイ時間: 30分以上
- リピート率: 40%以上

## 配布戦略

### 配布プラットフォーム

- **itch.io**: インディーゲーム配布プラットフォーム
- **Newgrounds**: Flash/HTML5ゲームコミュニティ
- **GameJolt**: インディーゲーム配布・コミュニティ
- **GitHub**: オープンソースとして公開

### プロモーション

- **SNS**: 開発進捗の共有（Twitter, Discord等）
- **Phaser Community**: 公式コミュニティでの共有
- **ゲーム開発コミュニティ**: フィードバック収集
